
<div class="row justify-content-md-center">
    <div class="col-lg-2">
        <mat-form-field>
            <mat-label>Permisos disponibles</mat-label>
            <mat-select [(ngModel)]="seleccionado">
                <mat-option *ngFor="let item of permisos | async | permisoDisponible: seleccionados" [value]="item">{{item.title}}</mat-option>
            </mat-select>
        </mat-form-field>
        <div class="row">
            <button mat-button (click)="onPermiso()">Agregar</button>
        </div>
    </div>
    <div class="col-lg-4">
        <form [formGroup]="formRegistro" (ngSubmit)="onSubmit()">
            <div class="row">
                <div class="col-lg-12">
                    <mat-form-field>
                        <mat-label>C&eacute;dula</mat-label>
                        <input matInput formControlName="cedula" />
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <mat-form-field>
                        <mat-label>Nombre completo</mat-label>
                        <input #nombre matInput formControlName="nombre_completo" />
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <mat-form-field>
                        <mat-label>Usuario</mat-label>
                        <input matInput formControlName="username"/>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <mat-form-field>
                        <mat-label>Contrase&ntilde;a</mat-label>
                        <input matInput type="password" formControlName="password"/>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <mat-form-field>
                        <mat-label>Confirmar contrase&ntilde;a</mat-label>
                        <input matInput type="password"  formControlName="repassword" [errorStateMatcher]="rePasswordMatcher"/>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <button mat-button type="submit" (click)="show(nombre.value)">Guardar - {{nombre.value}}</button>
                </div>
            </div>
        </form>
        <!-- {{formRegistro.value | json}}
        {{seleccionados | json}} -->
    </div>
    <div class="col-lg-4">
        <app-datos titulo="Datos del Usuario" [data]="formRegistro.value">
            
            <span cuerpo>Estos son los datos suministrados por el usuario</span>

            <div class="row" footer>
                <div class="col-lg-12">
                    <mat-label>Permisos</mat-label>
                    <mat-chip-set>
                        <mat-chip *ngFor="let item of seleccionados">
                            {{item.title}}
                            <button matChipRemove (click)="onRemove(item)"><mat-icon>close</mat-icon></button>
                        </mat-chip>
                    </mat-chip-set>
                </div>
            </div>
        </app-datos>
    </div>
</div>
